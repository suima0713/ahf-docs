{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "AHF MVP4 Extensions",
  "type": "object",
  "properties": {
    "anchor_backup": {
      "type": "object",
      "properties": {
        "pageno": {"type": "integer"},
        "quote": {"type": "string", "maxLength": 200},
        "hash": {"type": "string"}
      },
      "required": ["quote", "hash"]
    },
    "find_path": {"type": "string", "enum": ["xbrl", "note", "md&a", "fallback_text", "manual"]},
    "gap_reason": {
      "type": "object",
      "properties": {
        "field": {"type": "string"},
        "status": {"type": "string", "enum": ["data_gap"]},
        "reason": {"type": "string", "enum": ["NOT_DISCLOSED", "DIFF_PERIOD", "TAG_ABSENT", "PHRASE_NOT_FOUND"]},
        "ttl_days": {"type": "integer", "minimum": 1}
      },
      "required": ["field", "status", "reason", "ttl_days"]
    }
  }
}
