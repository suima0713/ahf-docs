# AHF Archive - 旧フレームワーク整理

## 概要
このディレクトリには、AHF v0.8.2-SB以前の旧フレームワークが整理・アーカイブされています。

## アーカイブ構造

### v0.7.3系
- **場所**: `_archive/v073/`
- **特徴**: 初期のMVP4実装、Turbo Screen機能
- **主要ファイル**:
  - `ahf_v073_evaluator.py` - 評価エンジン
  - `ahf_turbo_screen.py` - 高速スクリーニング
  - `A_v073.yaml`, `B_v073.yaml`, `C_v073.yaml` - テンプレート

### v0.8.0系
- **場所**: `_archive/v080/`
- **特徴**: マトリックス計算、ドリフトガード機能
- **主要ファイル**:
  - `ahf_v080_integrated.py` - 統合評価システム
  - `ahf_v080_math_guard.py` - 数学的整合性チェック
  - `ahf_v080_s3_lint.py` - S3データ検証

### v0.8.1-R2系
- **場所**: `_archive/v081_r2/`
- **特徴**: デュアルアンカー監視、改良されたワークフロー
- **主要ファイル**:
  - `ahf_v081_r2_integrated.py` - 改良統合システム
  - `ahf_v081_r2_anchor_lint.py` - アンカー検証
  - `ahf_v081_r2_workflow.py` - ワークフロー管理

### 共通スクリプト
- **場所**: `_archive/common/`
- **特徴**: 全バージョンで使用される共通機能
- **主要ファイル**:
  - `ahf_apply_redlines.py` - レッドライン適用
  - `ahf_credence_manager.py` - 信頼度管理
  - `Test-AHFParity.ps1` - パリティ検証

## 移行ガイド

### v0.8.2-SBへの移行
1. **新フレームワーク**: `AHF_Core_v082_SB_Prompt.md`を参照
2. **主要変更点**:
   - レンジ予測特化
   - Fact Maximization強化
   - demote_not_delete導入
   - 時間窓12-24M固定

### 旧バージョンからの移行
- **v0.7.3 → v0.8.2-SB**: 大幅な構造変更
- **v0.8.0 → v0.8.2-SB**: マトリックス計算の簡素化
- **v0.8.1-R2 → v0.8.2-SB**: デュアルアンカー機能の統合

## 互換性

### データ互換性
- **triage.json**: 基本構造は維持、新フィールド追加
- **facts.md**: 形式変更、T1/T1*の厳格化
- **A/B/C.yaml**: 構造簡素化、計算式変更

### スクリプト互換性
- **PowerShell**: 基本コマンドは維持
- **Python**: 新APIに合わせて更新必要
- **設定ファイル**: 新形式への変換必要

## サポート

### 旧バージョンの使用
- **非推奨**: 新機能開発はv0.8.2-SBを使用
- **サポート**: 既存データの移行のみ
- **バグ修正**: 重大なセキュリティ問題のみ

### 移行支援
- **自動変換**: `Convert-LegacyToAHF.ps1`を使用
- **手動移行**: 新テンプレートに従って再構築
- **検証**: `Test-AHFParity.ps1`で整合性確認

## 履歴

### v0.7.3 (2024-10)
- 初期MVP4実装
- Turbo Screen機能
- 基本的な評価エンジン

### v0.8.0 (2024-11)
- マトリックス計算導入
- ドリフトガード機能
- S3データ検証

### v0.8.1-R2 (2024-12)
- デュアルアンカー監視
- 改良されたワークフロー
- アンカー検証強化

### v0.8.2-SB (2024-12-19)
- レンジ予測特化
- Fact Maximization
- 完全管理フレームワーク

---

**最終更新**: 2024-12-19  
**アーカイブ管理者**: AHF Core Team  
**ステータス**: アーカイブ完了
