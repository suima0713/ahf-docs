[
  {
    "id": "revenue_growth_yoy",
    "inputs": ["revenue_q2_2025", "revenue_q2_2024"],
    "expr": "100*(revenue_q2_2025 - revenue_q2_2024)/revenue_q2_2024",
    "gates": { "up": ">=100", "down": "<50" }
  },
  {
    "id": "gross_margin_trend",
    "inputs": ["q3_2025_gm_guidance_mid", "q2_2025_gm_actual"],
    "expr": "q3_2025_gm_guidance_mid - q2_2025_gm_actual",
    "gates": { "up": ">=2", "down": "<-1" }
  },
  {
    "id": "guidance_execution_q3",
    "inputs": ["q3_2025_guidance_mid", "q3_2025_actual_revenue"],
    "expr": "100*abs(q3_2025_actual_revenue - q3_2025_guidance_mid)/q3_2025_guidance_mid",
    "gates": { "up": "<=5", "down": ">=15" }
  },
  {
    "id": "cash_burn_rate",
    "inputs": ["net_loss_q2_2025", "cash_balance_q2_2025"],
    "expr": "cash_balance_q2_2025/abs(net_loss_q2_2025)",
    "gates": { "up": ">=12", "down": "<6" }
  },
  {
    "id": "800g_timeline_confidence",
    "inputs": ["h2_2025_800g_shipment_confirmed", "q4_2025_guidance_800g_contribution"],
    "expr": "h2_2025_800g_shipment_confirmed * q4_2025_guidance_800g_contribution",
    "gates": { "up": ">=0.8", "down": "<0.3" }
  },
  {
    "id": "ar_concentration_trend",
    "inputs": ["ar_concentration_digicomm_q2", "ar_concentration_digicomm_q1"],
    "expr": "ar_concentration_digicomm_q2 - ar_concentration_digicomm_q1",
    "gates": { "up": "<=0", "down": ">2" }
  },
  {
    "id": "dso_trend",
    "inputs": ["dso_q2_2025", "dso_q1_2025"],
    "expr": "dso_q2_2025 - dso_q1_2025",
    "gates": { "up": "<=0", "down": ">30" }
  },
  {
    "id": "doh_trend",
    "inputs": ["doh_q2_2025", "doh_q1_2025"],
    "expr": "doh_q2_2025 - doh_q1_2025",
    "gates": { "up": "<=0", "down": ">30" }
  },
  {
    "id": "working_capital_efficiency",
    "inputs": ["dso_q2_2025", "doh_q2_2025"],
    "expr": "(dso_q2_2025 + doh_q2_2025) / 2",
    "gates": { "up": "<=150", "down": ">200" }
  },
  {
    "id": "inventory_mix_shift",
    "inputs": ["inventory_raw_wip_ratio_q2"],
    "expr": "inventory_raw_wip_ratio_q2",
    "gates": { "up": "<=95", "down": ">98" }
  },
  {
    "id": "production_forward_momentum",
    "inputs": ["raw_wip_increment_qoq"],
    "expr": "raw_wip_increment_qoq",
    "gates": { "up": ">=20", "down": "<10" }
  },
  {
    "id": "gaap_adj_opm_gap",
    "inputs": ["gaap_opm_q1_2025", "adj_opm_q1_2025_approx"],
    "expr": "adj_opm_q1_2025_approx - gaap_opm_q1_2025",
    "gates": { "up": ">=2", "down": "<1" }
  },
  {
    "id": "fccr_covenant_compliance",
    "inputs": ["fccr_actual", "fccr_covenant_threshold_monthly"],
    "expr": "fccr_actual >= fccr_covenant_threshold_monthly",
    "gates": { "up": "true", "down": "false" }
  },
  {
    "id": "excess_availability_compliance",
    "inputs": ["excess_availability_actual", "excess_availability_threshold"],
    "expr": "excess_availability_actual >= excess_availability_threshold",
    "gates": { "up": "true", "down": "false" }
  },
  {
    "id": "lease_obligation_coverage",
    "inputs": ["lease_obligations_12_3m", "cash_balance_q2_2025"],
    "expr": "cash_balance_q2_2025 / lease_obligations_12_3m",
    "gates": { "up": ">=2", "down": "<1" }
  },
  {
    "id": "inventory_reserve_trend",
    "inputs": ["q1_2025_inventory_reserve_charge", "eo_reserve_annual_charges"],
    "expr": "q1_2025_inventory_reserve_charge / (eo_reserve_annual_charges / 4)",
    "gates": { "up": "<=1.5", "down": ">2.0" }
  },
  {
    "id": "ar_concentration_risk",
    "inputs": ["ar_concentration_digicomm_q2", "dso_q2_2025"],
    "expr": "ar_concentration_digicomm_q2 * (dso_q2_2025 / 365)",
    "gates": { "up": "<=0.4", "down": ">0.6" }
  },
  {
    "id": "working_capital_covenant_risk",
    "inputs": ["dso_q2_2025", "doh_q2_2025", "fccr_covenant_threshold_monthly"],
    "expr": "(dso_q2_2025 + doh_q2_2025) / 365 * fccr_covenant_threshold_monthly",
    "gates": { "up": "<=0.5", "down": ">0.8" }
  },
  {
    "id": "atm_offering_completion_status",
    "inputs": ["atm_offering_completed_april_8_2025"],
    "expr": "atm_offering_completed_april_8_2025",
    "gates": { "up": "true", "down": "false" }
  },
  {
    "id": "warranty_liability_coverage",
    "inputs": ["warranty_accrual_0_28m", "revenue_q2_2025"],
    "expr": "warranty_accrual_0_28m / revenue_q2_2025",
    "gates": { "up": "<=0.01", "down": ">0.03" }
  },
  {
    "id": "unearned_revenue_trend",
    "inputs": ["unearned_revenue_0_and_1_8m"],
    "expr": "unearned_revenue_0_and_1_8m",
    "gates": { "up": ">=1.0", "down": "<0.5" }
  },
  {
    "id": "inventory_reserve_adequacy",
    "inputs": ["eo_inventory_reserve_44_0m", "inventory_balance_q2_2025"],
    "expr": "eo_inventory_reserve_44_0m / inventory_balance_q2_2025",
    "gates": { "up": ">=0.25", "down": "<0.15" }
  },
  {
    "id": "customer_concentration_risk",
    "inputs": ["top10_customer_concentration_95pct", "digicomm_66_6pct_amazon_18_4pct"],
    "expr": "top10_customer_concentration_95pct",
    "gates": { "up": "<=90", "down": ">95" }
  },
  {
    "id": "top2_customer_dominance",
    "inputs": ["digicomm_66_6pct_amazon_18_4pct"],
    "expr": "66.6 + 18.4",
    "gates": { "up": "<=80", "down": ">85" }
  },
  {
    "id": "hedging_risk_exposure",
    "inputs": ["no_hedging_activities"],
    "expr": "no_hedging_activities",
    "gates": { "up": "true", "down": "false" }
  },
  {
    "id": "convertible_notes_trend",
    "inputs": ["convertible_notes_balance_q2_2025", "convertible_notes_balance_ye_2024"],
    "expr": "convertible_notes_balance_q2_2025 - convertible_notes_balance_ye_2024",
    "gates": { "up": "<=0", "down": ">5" }
  },
  {
    "id": "convertible_notes_cash_ratio",
    "inputs": ["convertible_notes_balance_q2_2025", "cash_balance_q2_2025"],
    "expr": "cash_balance_q2_2025 / convertible_notes_balance_q2_2025",
    "gates": { "up": ">=0.6", "down": "<0.4" }
  },
  {
    "id": "convertible_notes_interest_coverage",
    "inputs": ["convertible_notes_balance_q2_2025", "ebitda_ttm"],
    "expr": "ebitda_ttm / (convertible_notes_balance_q2_2025 * 0.0275)",
    "gates": { "up": ">=3", "down": "<1.5" }
  },
  {
    "id": "external_validation_msft_capex",
    "inputs": ["msft_capex_fy2024", "msft_capex_q1_fy2025_guidance"],
    "expr": "msft_capex_q1_fy2025_guidance / msft_capex_fy2024",
    "gates": { "up": ">=1.2", "down": "<1.0" }
  },
  {
    "id": "external_validation_aws_growth",
    "inputs": ["aws_sales_growth_19pct"],
    "expr": "aws_sales_growth_19pct",
    "gates": { "up": ">=15", "down": "<10" }
  },
  {
    "id": "lease_termination_impact",
    "inputs": ["lease_termination_august_31_2025"],
    "expr": "lease_termination_august_31_2025",
    "gates": { "up": "true", "down": "false" }
  }
]
